# Web Tool - åœ¨çº¿ç½‘å€å¯¼èˆªç³»ç»Ÿ

ä¸€ä¸ªåŸºäº Vue 3 + Node.js + SQLite çš„å‰åç«¯åˆ†ç¦»åœ¨çº¿å¯¼èˆªç½‘ç«™ï¼Œæ”¯æŒå®Œæ•´çš„åå°ç®¡ç†åŠŸèƒ½ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ  å‰ç«¯åŠŸèƒ½

- **ç¾è§‚çš„å¡ç‰‡å¼å¯¼èˆª**ï¼šé‡‡ç”¨æ¸å˜èƒŒæ™¯å’Œæ¯›ç»ç’ƒæ•ˆæœçš„ç°ä»£åŒ–UIè®¾è®¡
- **èšåˆæœç´¢**ï¼šæ”¯æŒ Googleã€ç™¾åº¦ã€Bingã€GitHubã€ç«™å†…æœç´¢
- **å“åº”å¼è®¾è®¡**ï¼šå®Œç¾é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- **å‹æƒ…é“¾æ¥å±•ç¤º**ï¼šæ”¯æŒå‹æƒ…é“¾æ¥çš„å±•ç¤ºå’Œç®¡ç†
- **æ‚¬æµ®å¹¿å‘Šä½**ï¼šæ”¯æŒå·¦å³ä¸¤ä¾§æ‚¬æµ®å¹¿å‘Šä½å±•ç¤ºï¼Œä¿ç•™å…³é—­å¹¿å‘ŠæŒ‰é’®

### ğŸ”§ åå°ç®¡ç†åŠŸèƒ½

- **ğŸ‘¤ ç”¨æˆ·ç®¡ç†**ï¼šç®¡ç†å‘˜ç™»å½•ã€ç”¨æˆ·ä¿¡æ¯ç®¡ç†ã€å¯†ç ä¿®æ”¹
- **ğŸ“‹ æ ç›®ç®¡ç†**ï¼šä¸»èœå•å’Œå­èœå•çš„å¢åˆ æ”¹æŸ¥ï¼Œæ”¯æŒæ ‘å½¢ç»“æ„
- **ğŸƒ å¡ç‰‡ç®¡ç†**ï¼šå¯¼èˆªå¡ç‰‡çš„å¢åˆ æ”¹æŸ¥ï¼Œæ”¯æŒé€šè¿‡ç½‘å€è‡ªåŠ¨è§£æç½‘ç«™åç§°ã€logoã€æè¿°
- **ğŸ“¢ å¹¿å‘Šç®¡ç†**ï¼šå¹¿å‘Šä½çš„å¢åˆ æ”¹æŸ¥ï¼Œæ”¯æŒå¯ç”¨/ç¦ç”¨çŠ¶æ€
- **ğŸ”— å‹é“¾ç®¡ç†**ï¼šå‹æƒ…é“¾æ¥çš„å¢åˆ æ”¹æŸ¥
- **ğŸ“Š æ•°æ®ç»Ÿè®¡**ï¼šç™»å½•æ—¶é—´ã€IPç­‰ç»Ÿè®¡ä¿¡æ¯å±•ç¤º
- **ğŸ’¾ å¤‡ä»½æ¢å¤**ï¼šä¸€é”®å¤‡ä»½æ•°æ®ä¸ºZIPå‹ç¼©åŒ…ï¼Œæ”¯æŒä¸Šä¼ ZIPæ¢å¤æ•°æ®

### ğŸ” æŠ€æœ¯ç‰¹æ€§

- **JWTè®¤è¯**ï¼šå®‰å…¨çš„ç”¨æˆ·è®¤è¯æœºåˆ¶
- **SQLiteæ•°æ®åº“**ï¼šè½»é‡çº§æ•°æ®åº“ï¼Œæ— éœ€é¢å¤–é…ç½®
- **æ–‡ä»¶ä¸Šä¼ **ï¼šæ”¯æŒå›¾ç‰‡ä¸Šä¼ åŠŸèƒ½
- **æœç´¢åŠŸèƒ½**ï¼šæ”¯æŒç«™å†…æœç´¢å’Œå¤–éƒ¨æœç´¢å¼•æ“
- **ç§»åŠ¨ç«¯é€‚é…**ï¼šå®Œç¾çš„ç§»åŠ¨ç«¯ä½“éªŒ

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯

- Node.js + Express
- SQLite (better-sqlite3)
- JWT (jsonwebtoken)
- Bcrypt (å¯†ç åŠ å¯†)
- Multer (æ–‡ä»¶ä¸Šä¼ )
- Cheerio + Axios (ç½‘é¡µè§£æ)
- Archiver + Extract-zip (å¤‡ä»½æ¢å¤)

### å‰ç«¯

- Vue 3 (Composition API)
- Vue Router 4
- Pinia (çŠ¶æ€ç®¡ç†)
- Element Plus (UIç»„ä»¶åº“)
- Axios (HTTPå®¢æˆ·ç«¯)
- Vite (æ„å»ºå·¥å…·)

## ğŸ“¦ å®‰è£…éƒ¨ç½²

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16.x
- npm æˆ– yarn æˆ– pnpm

### 1. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd web_tool
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

åç«¯é…ç½®æ–‡ä»¶ï¼š

```bash
cd backend
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œé…ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```env
PORT=3000
NODE_ENV=development
JWT_SECRET=your-secret-key-change-this-in-production
ADMIN_USERNAME=admin
ADMIN_PASSWORD=123456
```

### 3. å®‰è£…ä¾èµ–

#### å®‰è£…åç«¯ä¾èµ–

```bash
cd backend
npm install
```

#### å®‰è£…å‰ç«¯ä¾èµ–

```bash
cd frontend
npm install
```

### 4. å¯åŠ¨é¡¹ç›®

#### å¯åŠ¨åç«¯æœåŠ¡

```bash
cd backend
npm start
# æˆ–ä½¿ç”¨å¼€å‘æ¨¡å¼ï¼ˆè‡ªåŠ¨é‡å¯ï¼‰
npm run dev
```

åç«¯æœåŠ¡å°†åœ¨ `http://localhost:3000` å¯åŠ¨

#### å¯åŠ¨å‰ç«¯æœåŠ¡

åœ¨æ–°çš„ç»ˆç«¯çª—å£ä¸­ï¼š

```bash
cd frontend
npm run dev
```

å‰ç«¯æœåŠ¡å°†åœ¨ `http://localhost:5173` å¯åŠ¨

### 5. è®¿é—®åº”ç”¨

- **å‰ç«¯é¡µé¢**ï¼šhttp://localhost:5173
- **ç®¡ç†åå°**ï¼šhttp://localhost:5173/admin
- **é»˜è®¤ç®¡ç†å‘˜è´¦å·**ï¼š
  - ç”¨æˆ·åï¼š`admin`
  - å¯†ç ï¼š`123456`

## ğŸš€ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### 1. æ„å»ºå‰ç«¯

```bash
cd frontend
npm run build
```

æ„å»ºäº§ç‰©å°†è¾“å‡ºåˆ° `frontend/dist` ç›®å½•ã€‚

### 2. é…ç½®ç”Ÿäº§ç¯å¢ƒ

#### æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨ Nginx åå‘ä»£ç†

1. å°†å‰ç«¯æ„å»ºäº§ç‰©éƒ¨ç½²åˆ° Nginx é™æ€ç›®å½•
2. é…ç½® Nginx åå‘ä»£ç†åˆ°åç«¯æœåŠ¡

Nginx é…ç½®ç¤ºä¾‹ï¼š

```nginx
server {
    listen 80;
    server_name your-domain.com;

    # å‰ç«¯é™æ€æ–‡ä»¶
    location / {
        root /path/to/frontend/dist;
        try_files $uri $uri/ /index.html;
    }

    # åç«¯APIä»£ç†
    location /api {
        proxy_pass http://localhost:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }

    # ä¸Šä¼ æ–‡ä»¶ä»£ç†
    location /uploads {
        proxy_pass http://localhost:3000;
    }
}
```

#### æ–¹æ¡ˆäºŒï¼šåç«¯æœåŠ¡åŒæ—¶æä¾›å‰ç«¯é™æ€æ–‡ä»¶

ä¿®æ”¹åç«¯ `src/app.js`ï¼Œæ·»åŠ é™æ€æ–‡ä»¶æœåŠ¡ï¼š

```javascript
// åœ¨è·¯ç”±é…ç½®ä¹‹å‰æ·»åŠ 
import path from 'path';
app.use(express.static(path.join(__dirname, '../../frontend/dist')));
```

ç„¶ååªéœ€å¯åŠ¨åç«¯æœåŠ¡å³å¯ã€‚

### 3. ä½¿ç”¨ PM2 ç®¡ç†åç«¯è¿›ç¨‹

```bash
# å®‰è£… PM2
npm install -g pm2

# å¯åŠ¨åç«¯æœåŠ¡
cd backend
pm2 start src/app.js --name webtool-backend

# è®¾ç½®å¼€æœºè‡ªå¯
pm2 startup
pm2 save
```

### 4. ç¯å¢ƒå˜é‡é…ç½®

ç”Ÿäº§ç¯å¢ƒè¯·åŠ¡å¿…ä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼š

- `JWT_SECRET`ï¼šä½¿ç”¨å¼ºå¯†ç 
- `ADMIN_PASSWORD`ï¼šä¿®æ”¹é»˜è®¤å¯†ç 
- `NODE_ENV`ï¼šè®¾ç½®ä¸º `production`

## ğŸ“š API æ–‡æ¡£

### è®¤è¯ç›¸å…³

- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `GET /api/auth/profile` - è·å–ç”¨æˆ·ä¿¡æ¯ï¼ˆéœ€è®¤è¯ï¼‰
- `PUT /api/auth/password` - ä¿®æ”¹å¯†ç ï¼ˆéœ€è®¤è¯ï¼‰

### æ ç›®ç®¡ç†

- `GET /api/categories` - è·å–æ‰€æœ‰æ ç›®ï¼ˆæ ‘å½¢ç»“æ„ï¼‰
- `GET /api/categories/:id` - è·å–å•ä¸ªæ ç›®
- `POST /api/categories` - åˆ›å»ºæ ç›®ï¼ˆéœ€è®¤è¯ï¼‰
- `PUT /api/categories/:id` - æ›´æ–°æ ç›®ï¼ˆéœ€è®¤è¯ï¼‰
- `DELETE /api/categories/:id` - åˆ é™¤æ ç›®ï¼ˆéœ€è®¤è¯ï¼‰

### å¡ç‰‡ç®¡ç†

- `GET /api/cards` - è·å–æ‰€æœ‰å¡ç‰‡
- `GET /api/cards/search?q=å…³é”®è¯` - æœç´¢å¡ç‰‡
- `GET /api/cards/:id` - è·å–å•ä¸ªå¡ç‰‡
- `POST /api/cards/parse` - è§£æç½‘ç«™ä¿¡æ¯
- `POST /api/cards` - åˆ›å»ºå¡ç‰‡ï¼ˆéœ€è®¤è¯ï¼‰
- `PUT /api/cards/:id` - æ›´æ–°å¡ç‰‡ï¼ˆéœ€è®¤è¯ï¼‰
- `DELETE /api/cards/:id` - åˆ é™¤å¡ç‰‡ï¼ˆéœ€è®¤è¯ï¼‰

### å¹¿å‘Šç®¡ç†

- `GET /api/ads` - è·å–æ‰€æœ‰å¹¿å‘Š
- `GET /api/ads/:id` - è·å–å•ä¸ªå¹¿å‘Š
- `POST /api/ads` - åˆ›å»ºå¹¿å‘Šï¼ˆéœ€è®¤è¯ï¼‰
- `PUT /api/ads/:id` - æ›´æ–°å¹¿å‘Šï¼ˆéœ€è®¤è¯ï¼‰
- `DELETE /api/ads/:id` - åˆ é™¤å¹¿å‘Šï¼ˆéœ€è®¤è¯ï¼‰

### å‹æƒ…é“¾æ¥

- `GET /api/friendlinks` - è·å–æ‰€æœ‰å‹æƒ…é“¾æ¥
- `GET /api/friendlinks/:id` - è·å–å•ä¸ªå‹æƒ…é“¾æ¥
- `POST /api/friendlinks` - åˆ›å»ºå‹æƒ…é“¾æ¥ï¼ˆéœ€è®¤è¯ï¼‰
- `PUT /api/friendlinks/:id` - æ›´æ–°å‹æƒ…é“¾æ¥ï¼ˆéœ€è®¤è¯ï¼‰
- `DELETE /api/friendlinks/:id` - åˆ é™¤å‹æƒ…é“¾æ¥ï¼ˆéœ€è®¤è¯ï¼‰

### ç»Ÿè®¡ä¿¡æ¯

- `GET /api/stats` - è·å–ç»Ÿè®¡ä¿¡æ¯ï¼ˆéœ€è®¤è¯ï¼‰
- `GET /api/stats/logs` - è·å–ç™»å½•æ—¥å¿—ï¼ˆéœ€è®¤è¯ï¼‰

### æ–‡ä»¶ä¸Šä¼ 

- `POST /api/upload` - ä¸Šä¼ æ–‡ä»¶ï¼ˆéœ€è®¤è¯ï¼‰

### å¤‡ä»½æ¢å¤

- `GET /api/backup/info` - è·å–å¤‡ä»½ä¿¡æ¯ï¼ˆéœ€è®¤è¯ï¼‰
- `GET /api/backup/download` - ä¸‹è½½å¤‡ä»½æ–‡ä»¶ï¼ˆéœ€è®¤è¯ï¼‰
- `POST /api/backup/restore` - æ¢å¤å¤‡ä»½ï¼ˆéœ€è®¤è¯ï¼‰

## ğŸ¯ ä½¿ç”¨è¯´æ˜

### ç®¡ç†å‘˜æ“ä½œæµç¨‹

1. **ç™»å½•åå°**
   - è®¿é—® `/admin/login`
   - è¾“å…¥ç®¡ç†å‘˜è´¦å·å¯†ç ç™»å½•

2. **ç®¡ç†æ ç›®**
   - è¿›å…¥"æ ç›®ç®¡ç†"é¡µé¢
   - å¯ä»¥åˆ›å»ºä¸»æ ç›®ï¼ˆé¡¶çº§æ ç›®ï¼‰å’Œå­æ ç›®
   - æ”¯æŒè®¾ç½®æ ç›®å›¾æ ‡å’Œæ’åº

3. **ç®¡ç†å¡ç‰‡**
   - è¿›å…¥"å¡ç‰‡ç®¡ç†"é¡µé¢
   - ç‚¹å‡»"æ·»åŠ å¡ç‰‡"
   - è¾“å…¥ç½‘å€åç‚¹å‡»"è§£æç½‘ç«™ä¿¡æ¯"ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è·å–ç½‘ç«™æ ‡é¢˜ã€Logoå’Œæè¿°
   - é€‰æ‹©æ‰€å±æ ç›®å¹¶ä¿å­˜

4. **ç®¡ç†å¹¿å‘Š**
   - è¿›å…¥"å¹¿å‘Šç®¡ç†"é¡µé¢
   - æ·»åŠ å¹¿å‘Šæ—¶é€‰æ‹©ä½ç½®ï¼ˆå·¦ä¾§/å³ä¾§ï¼‰
   - è®¾ç½®å¹¿å‘Šå›¾ç‰‡å’Œé“¾æ¥åœ°å€
   - å¯ä»¥å¯ç”¨/ç¦ç”¨å¹¿å‘Š

5. **ç®¡ç†å‹æƒ…é“¾æ¥**
   - è¿›å…¥"å‹é“¾ç®¡ç†"é¡µé¢
   - æ·»åŠ å‹æƒ…é“¾æ¥ä¿¡æ¯
   - å¯ä»¥è®¾ç½®Logoå’Œæè¿°

6. **æŸ¥çœ‹ç»Ÿè®¡**
   - åœ¨é¦–é¡µæŸ¥çœ‹å„ç±»æ•°æ®ç»Ÿè®¡
   - åœ¨"ç™»å½•æ—¥å¿—"é¡µé¢æŸ¥çœ‹è¯¦ç»†çš„ç™»å½•è®°å½•

7. **å¤‡ä»½æ¢å¤**
   - è¿›å…¥"å¤‡ä»½æ¢å¤"é¡µé¢
   - ç‚¹å‡»"ç«‹å³å¤‡ä»½"ä¸‹è½½ZIPå‹ç¼©åŒ…
   - ä¸Šä¼ ä¹‹å‰çš„å¤‡ä»½æ–‡ä»¶è¿›è¡Œæ•°æ®æ¢å¤

### ç½‘å€è§£æåŠŸèƒ½

ç³»ç»Ÿæ”¯æŒè‡ªåŠ¨è§£æç½‘ç«™ä¿¡æ¯ï¼Œæ·»åŠ å¡ç‰‡æ—¶ï¼š

1. è¾“å…¥å®Œæ•´çš„ç½‘å€ï¼ˆå¦‚ `https://github.com`ï¼‰
2. ç‚¹å‡»"è§£æç½‘ç«™ä¿¡æ¯"æŒ‰é’®
3. ç³»ç»Ÿä¼šè‡ªåŠ¨è·å–ï¼š
   - ç½‘ç«™æ ‡é¢˜ï¼ˆä» `<title>` æˆ– `og:title`ï¼‰
   - ç½‘ç«™Logoï¼ˆä» `favicon` æˆ– `og:image`ï¼‰
   - ç½‘ç«™æè¿°ï¼ˆä» `description` æˆ– `og:description`ï¼‰

## ğŸ”’ å®‰å…¨å»ºè®®

1. **ä¿®æ”¹é»˜è®¤å¯†ç **ï¼šé¦–æ¬¡éƒ¨ç½²åç«‹å³ä¿®æ”¹ç®¡ç†å‘˜å¯†ç 
2. **JWTå¯†é’¥**ï¼šç”Ÿäº§ç¯å¢ƒä½¿ç”¨å¼ºéšæœºå­—ç¬¦ä¸²ä½œä¸ºJWT_SECRET
3. **HTTPS**ï¼šç”Ÿäº§ç¯å¢ƒåŠ¡å¿…ä½¿ç”¨HTTPS
4. **å®šæœŸå¤‡ä»½**ï¼šå®šæœŸå¤‡ä»½ `database.db` æ•°æ®åº“æ–‡ä»¶
5. **æ–‡ä»¶ä¸Šä¼ **ï¼šé™åˆ¶ä¸Šä¼ æ–‡ä»¶å¤§å°å’Œç±»å‹ï¼ˆé»˜è®¤ä»…æ”¯æŒå›¾ç‰‡ï¼Œæœ€å¤§5MBï¼‰

## ğŸ“ ç›®å½•ç»“æ„

```
web_tool/
â”œâ”€â”€ backend/                 # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ config/         # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ database.js # æ•°æ®åº“é…ç½®å’Œåˆå§‹åŒ–
â”‚   â”‚   â”œâ”€â”€ middleware/     # ä¸­é—´ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ auth.js     # JWTè®¤è¯ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ routes/         # è·¯ç”±å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ controllers/    # æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â””â”€â”€ urlParser.js # ç½‘å€è§£æå·¥å…·
â”‚   â”‚   â””â”€â”€ app.js          # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ uploads/            # ä¸Šä¼ æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ database.db         # SQLiteæ•°æ®åº“æ–‡ä»¶
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ .env.example        # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”‚
â”œâ”€â”€ frontend/               # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ views/         # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.vue   # å‰å°é¦–é¡µ
â”‚   â”‚   â”‚   â””â”€â”€ admin/     # åå°ç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ components/    # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ router/        # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ store/         # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ api/           # APIæ¥å£
â”‚   â”‚   â””â”€â”€ main.js        # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.js     # Viteé…ç½®
â”‚
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ”— å‚è€ƒèµ„æ–™

åŸé¡¹ç›®åŸºäºé™æ€HTMLå¼€å‘ï¼Œç°å·²é‡æ„ä¸ºVue 3 + Node.jså…¨æ ˆåº”ç”¨ã€‚

- åŸé¡¹ç›®é¢„è§ˆï¼šhttps://geeeeeeeek.github.io/web_tool/
